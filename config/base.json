{
  "general": {
    "verbose": false,
    "random_state": 42,
    "train_test_split": 0.7,
    "save_signals": false,
    "debug_mode": false,
    "enable_validation_checks": true,
    "currency": "USD"
  },
  "mathematical_operations": {
    "zero": 0,
    "two": 2,
    "three": 3,
    "unity": 1,
    "max_cache_size": 50000,
    "random_seed": null,
    "default_trees": 100,
    "default_depth": 10,
    "default_seed": 42,
    "very_short_default": 15,
    "short_min_default": 15,
    "short_max_default": 60,
    "medium_min_default": 60,
    "medium_max_default": 180,
    "long_min_default": 180,
    "long_max_default": 999999,
    "default_rsi_period": 14,
    "default_bollinger_period": 20,
    "default_normalization_window": 240,
    "default_buffer_periods": 240,
    "momentum_short": 5,
    "momentum_medium_short": 20,
    "momentum_medium": 60,
    "momentum_long": 240,
    "volatility_short": 5,
    "volatility_medium": 20,
    "volatility_long": 60,
    "ma_short": 20,
    "ma_medium": 60,
    "ma_long": 240,
    "default_regime_period": 60,
    "divergence_short": 5,
    "divergence_medium": 10,
    "default_volume_ma_period": 20,
    "default_volume_threshold": 0.8,
    "default_momentum_exhaustion_period": 10,
    "default_momentum_threshold": 0.001,
    "default_bb_multiplier": 2.0,
    "default_trend_detection_period": 20,
    "default_forward_window": 240,
    "percentage_multiplier": 100
  },
"walk_forward": {
  "pretrain_rows": 50000,
  "retrain_frequency": 1000,
  "progress_report_frequency": 1000,
  "validation_frequency": 500,
  "min_training_rows": 10000,
  "step_sampling_frequency": 100,
  "batch_size": 1000,
  "training_lookback_limit": null,
  "signal_buffer_size": 1,
  "retraining_strategy": {
    "adaptive_retraining": false,
    "performance_threshold": -0.05,
    "lookback_window": 50
    },
  "train_window_size": 50000,
  "test_window_size": 50000
  },
  "array_indexing": {
    "first_index": 0,
    "second_index": 1,
    "third_index": 2
  },
  "boolean_values": {
    "true": true,
    "false": false
  },
  "dataframe_operations": {
    "column_axis": 1,
    "row_axis": 0,
    "deep_memory_usage": true
  },
  "ml_confidence": {
    "default_volatility_confidence": 0.7,
    "default_duration_confidence": 0.5,
    "base_confidence": 0.5
  },
  "string_constants": {
    "none_string": "none",
    "unknown_string": "unknown",
    "cache_invalidated_message": "Cache invalidated, recomputing all features",
    "computing_new_rows_template": "Computing features for {new_count} new rows (total: {total_count})",
    "incremental_fallback_message": "Incremental computation failed, falling back to full recomputation",
    "feature_generation_message": "Generating trend duration features with {count} momentum periods...",
    "feature_shape_message": "Trend duration features: {shape}",
    "cache_cleared_message": "Feature cache cleared",
    "momentum_column_template": "momentum_{period}",
    "momentum_acceleration_column": "momentum_acceleration",
    "momentum_decay_column": "momentum_decay",
    "volatility_column_template": "volatility_{period}",
    "volatility_expansion_column": "volatility_expansion",
    "volatility_regime_column": "volatility_regime",
    "trend_age_column": "trend_age",
    "trend_age_normalized_column": "trend_age_normalized",
    "trend_strength_short_column": "trend_strength_short",
    "trend_strength_medium_column": "trend_strength_medium",
    "trend_consistency_column": "trend_consistency",
    "rsi_column": "rsi",
    "rsi_divergence_column_template": "rsi_divergence_{period}",
    "volume_column": "volume",
    "volume_exhaustion_column": "volume_exhaustion",
    "momentum_exhaustion_column": "momentum_exhaustion",
    "ma_distance_column_template": "ma_distance_{period}",
    "overextension_column_template": "overextension_{period}",
    "bb_position_column": "bb_position",
    "bb_overextension_column": "bb_overextension",
    "duration_labels_message": "Duration labels: {count} samples"
  },
  "window_sizes": {
    "default_window": 10
  },
  "volatility_thresholds": {
    "high_vol_threshold": 0.5
  },
  "regime_methods": {
    "rule_based": "rule_based"
  },
  "regime_detection": {
    "method": "rule_based"
  },
  "trend_duration_prediction": {
    "enabled": true,
    "confidence_window": 10,
    "default_duration_category": 1,
    "default_n_estimators": 100,
    "default_max_depth": 10,
    "very_short_max": 15,
    "short_min": 15,
    "short_max": 60,
    "medium_min": 60,
    "medium_max": 180,
    "long_min": 180,
    "long_max": 999999,
    "model_params": {
      "n_estimators": 100,
      "max_depth": 10,
      "random_state": 42
    },
    "feature_generation": {
      "momentum_periods": [5, 20, 60, 240],
      "volatility_periods": [5, 20, 60],
      "moving_average_periods": [20, 60, 240],
      "buffer_periods": 240,
      "rsi_period": 14,
      "rsi_divergence_periods": [5, 10],
      "volume_ma_period": 20,
      "volume_exhaustion_threshold": 0.8,
      "momentum_exhaustion_period": 10,
      "momentum_exhaustion_threshold": 0.001,
      "trend_age_normalization_window": 240,
      "volatility_regime_period": 60,
      "bollinger_period": 20,
      "bollinger_std_multiplier": 2.0,
      "lookback_safety_multiplier": 2,
      "momentum_period_1": 5,
      "momentum_period_2": 20,
      "momentum_period_3": 60,
      "momentum_period_4": 240,
      "volatility_period_1": 5,
      "volatility_period_2": 20,
      "volatility_period_3": 60,
      "ma_period_1": 20,
      "ma_period_2": 60,
      "ma_period_3": 240,
      "divergence_period_1": 5,
      "divergence_period_2": 10
    },
    "label_generation": {
      "trend_detection_period": 20,
      "forward_window": 240,
      "duration_categories": {
        "very_short": {"min_periods": 0, "max_periods": 15, "label": 0},
        "short": {"min_periods": 15, "max_periods": 60, "label": 1},
        "medium": {"min_periods": 60, "max_periods": 180, "label": 2},
        "long": {"min_periods": 180, "max_periods": 999999, "label": 3}
      }
    },
    "training": {
      "verbose": true,
      "min_samples": 1000,
      "train_test_split": 0.7,
      "random_state": 42,
      "stratify": true
    }
  },
  "volatility_prediction": {
    "use_volatility_ml": true,
    "forward_window": 20,
    "high_vol_percentile": 75,
    "feature_periods": [5, 10, 20, 50],
    "model_params": {
      "n_estimators": 100,
      "max_depth": 8,
      "random_state": 42
    },
    "feature_generation": {
      "vol_window": 50,
      "threshold_multiplier": 1.5,
      "min_samples": 1000,
      "momentum_period": 10,
      "volume_ma_period": 20,
      "return_ma_period": 10,
      "skip_initial_rows": 50,
      "default_volume": 1.0,
      "nan_replacement_value": 0.0,
      "gap_shift_periods": 1,
      "default_close_position": 0.5,
      "zero_threshold": 0.0001,
      "default_consecutive_value": 1,
      "consecutive_reset_value": 0,
      "volume_default_ratio": 1.0,
      "default_fill_value": 0.0,
      "consecutive_window": 5,
      "consecutive_loop_start": 1,
      "min_periods_for_ratio": 2,
      "min_periods_for_long_ratio": 3,
      "mid_period_index": 1,
      "percentage_multiplier": 100,
      "astype_conversion_value": 1,
      "last_element_index": 1,
      "axis_parameter": 1,
      "reverse_sort_flag": true
    }
  },
  "constants": {
    "percentile": 0.05,
    "forward_window": 240
  },
  "system_configuration": {
    "windows_compatibility": {
      "max_cores": 16
    },
    "logging": {
      "level": "INFO",
      "format": "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
    }
  },
  "debug_configuration": {
    "enable_trade_debug": false,
    "enable_position_debug": false,
    "enable_metrics_debug": false,
    "enable_direct_math_check": false,
    "print_trade_details": false,
    "log_trades": false,
    "trade_debug_count": 0,
    "enable_fee_debug": false
  },
  "backtesting": {
    "method": "walk_forward",
    "initial_capital": 10000,
    "transaction_cost": 0.001,
    "slippage": 0.0005,
    "print_trades": false,
    "verbose_output": false,
    "calculations": {
      "loop_start_index": 1,
      "position_long_value": 1,
      "position_short_value": -1,
      "position_neutral_value": 0,
      "signal_threshold": 0,
      "size_threshold": 0.001
    }
  },
  "hybrid_strategy": {
    "ml_components": {
      "regime_detection": "rule_based",
      "volatility_prediction": "enabled",
      "trend_duration": "enabled",
      "enabled_string": "enabled"
    },
    "technical_indicators": {
      "ma_period": 20,
      "rsi_period": 14,
      "bollinger_period": 20,
      "bollinger_std": 2
    },
    "signal_generation": {
      "ml_weight": 0.6,
      "technical_weight": 0.4,
      "confidence_threshold": 0.5
    }
  },
  "ml_models": {
    "regime_detection": {
      "model_type": "rule_based",
      "lookback_period": 50,
      "volatility_threshold": 0.02,
      "trend_threshold": 0.001
    },
    "volatility_prediction": {
      "model_type": "random_forest",
      "n_estimators": 100,
      "max_depth": 10,
      "random_state": 42,
      "features": [
        "returns",
        "volatility",
        "volume",
        "rsi",
        "bollinger_position"
      ]
    }
  },
  "feature_engineering": {
    "technical_features": {
      "price_features": [
        "sma_5",
        "sma_20",
        "ema_12",
        "ema_26"
      ],
      "momentum_features": [
        "rsi_14",
        "macd",
        "momentum_10"
      ],
      "volatility_features": [
        "atr_14",
        "bollinger_width",
        "volatility_ratio"
      ]
    },
    "ml_features": {
      "regime_features": [
        "regime_strength",
        "regime_direction",
        "regime_duration"
      ],
      "prediction_features": [
        "volatility_forecast",
        "trend_probability"
      ]
    }
  },
  "transaction_costs": {
    "commission_pct": 0.0001,
    "slippage_pct": 0.00005,
    "spread_pct": 0.00002
  },
  "performance_metrics": {
    "benchmark": "buy_and_hold",
    "risk_free_rate": 0.02,
    "confidence_level": 0.95
  },
  "result_keys": {
    "total_return": "total_return",
    "sharpe_ratio": "sharpe_ratio",
    "num_trades": "num_trades"
  },
  "output_formatting": {
    "percentage_multiplier": 100,
    "decimal_places": {
      "price_display": 4,
      "return_display": 4,
      "percentage_display": 2,
      "position_size_display": 3,
      "capital_display": 0,
      "pnl_display": 2
    }
  },
  "display_configuration": {
    "status_messages": {
      "backtest_running": "Running backtest..."
    }
  },
  "trade_debug": {
    "debug_labels": {
      "trade_debug": "Trade ",
      "position": "Position:",
      "entry": "Entry:",
      "exit": "Exit:",
      "raw_return": "Raw Return:",
      "position_size": "Position Size:",
      "sized_return": "Sized Return:",
      "after_costs": "After Costs:",
      "transaction_cost": "Transaction Cost:",
      "slippage": "Slippage:",
      "capital": "Capital:",
      "pnl": "P&L:",
      "arrow": " → "
    },
    "position_types": {
      "long": "Long",
      "short": "Short"
    }
  }
}