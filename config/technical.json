{
  "regime_detection": {
    "method": "rule_based",
    "use_regime_ml": false,
    "min_data_periods": 240,
    "atr_period": 14,
    "rule_based_thresholds": {
      "price_vs_ma_threshold": 0.002,
      "momentum_threshold": 0.005,
      "ma_alignment_threshold": 0.001,
      "volatility_ratio_threshold": 1.5,
      "range_extreme_threshold": 0.1,
      "high_volatility_threshold": 2.0,
      "high_vol_multiplier": 1.5,
      "price_factor_medium": 0.5,
      "ma_alignment_factor_long": 0.5,
      "momentum_scaling": {
        "short_factor": 0.3,
        "long_factor": 0.5
      }
    },
    "confidence_requirements": {
      "minimum_confidence": 0.5,
      "high_confidence_threshold": 0.7,
      "direction_bonus": 0.1
    },
    "confidence_calculation": {
      "price_strength_multiplier": 200,
      "momentum_strength_multiplier": 100,
      "ma_alignment_multiplier": 500,
      "vol_clarity_base": 2.0,
      "vol_spike_divisor": 2,
      "range_momentum_multiplier": 50,
      "range_ma_multiplier": 1000,
      "range_position_multiplier": 4,
      "range_position_center": 0.5
    },
    "confidence_skip_periods": 240,
    "moving_average_periods": {
      "short": 20,
      "medium": 60,
      "long": 240
    },
    "rule_feature_counts": {
      "strength_features": 12,
      "direction_features": 8
    },
    "feature_importance_weights": {
      "price_vs_sma_short": 0.25,
      "momentum_medium": 0.20,
      "ma_alignment_short": 0.15,
      "vol_ratio_long": 0.12,
      "price_vs_sma_medium": 0.10,
      "ma_alignment_long": 0.08,
      "momentum_long": 0.05,
      "range_position": 0.03,
      "trend_strength": 0.02
    }
  },
  "trend_duration_prediction": {
    "enabled": false,
    "model_params": {
      "n_estimators": 100,
      "max_depth": 10,
      "random_state": 42
    },
    "feature_generation": {
      "momentum_periods": [5, 20, 60, 240],
      "volatility_periods": [5, 20, 60],
      "moving_average_periods": [20, 60, 240],
      "buffer_periods": 240,
      "rsi_period": 14,
      "rsi_divergence_periods": [5, 10],
      "volume_ma_period": 20,
      "volume_exhaustion_threshold": 0.8,
      "momentum_exhaustion_period": 10,
      "momentum_exhaustion_threshold": 0.001,
      "volatility_regime_period": 60,
      "trend_age_normalization_window": 240,
      "bollinger_period": 20,
      "bollinger_std_multiplier": 2.0
    },
    "label_generation": {
      "trend_detection_period": 20,
      "forward_window": 240,
      "duration_categories": {
        "very_short": {"min_periods": 0, "max_periods": 15, "label": 0},
        "short": {"min_periods": 15, "max_periods": 60, "label": 1},
        "medium": {"min_periods": 60, "max_periods": 180, "label": 2},
        "long": {"min_periods": 180, "max_periods": 999999, "label": 3}
      }
    },
    "training": {
      "verbose": true,
      "min_samples": 1000,
      "train_test_split": 0.7,
      "random_state": 42,
      "stratify": true
    }
  },
  "volatility_prediction": {
    "use_volatility_ml": true,
    "model_params": {
      "n_estimators": 100,
      "max_depth": 10,
      "random_state": 42
    },
    "forward_window": 240,
    "feature_periods": [5, 20, 60, 240],
    "high_vol_percentile": 0.8,
    "feature_generation": {
      "vol_window": 240,
      "threshold_multiplier": 1.5,
      "min_samples": 1000,
      "momentum_period": 5,
      "volume_ma_period": 20,
      "return_ma_period": 10,
      "skip_initial_rows": 25,
      "default_volume": 1000,
      "nan_replacement_value": 0,
      "gap_shift_periods": 1,
      "default_close_position": 0.5,
      "zero_threshold": 0,
      "default_consecutive_value": 1,
      "consecutive_reset_value": 0,
      "volume_default_ratio": 1.0,
      "default_fill_value": 0,
      "consecutive_window": 5,
      "consecutive_loop_start": 1,
      "min_periods_for_ratio": 2,
      "min_periods_for_long_ratio": 3,
      "mid_period_index": 1,
      "percentage_multiplier": 100,
      "astype_conversion_value": "int",
      "last_element_index": 1,
      "axis_parameter": 1,
      "reverse_sort_flag": true
    }
  },
  "technical_analysis": {
    "kama": {
      "period": 14,
      "fast_sc": 2,
      "slow_sc": 30
    },
    "kalman": {
      "process_noise": 0.001,
      "measurement_noise": 0.1
    },
    "indicators": {
      "rsi_period": 14,
      "rsi_oversold_threshold": 30,
      "rsi_overbought_threshold": 70,
      "atr_period": 14,
      "bb_period": 20,
      "bb_std_multiplier": 2.0,
      "macd_fast": 12,
      "macd_slow": 26,
      "macd_signal": 9,
      "stoch_k_period": 14,
      "stoch_d_period": 3,
      "sma_periods": [5, 10, 20, 50],
      "ema_periods": [5, 10, 20, 50]
    },
    "signal_generation": {
      "kama_signal_threshold": 0.0001,
      "kalman_threshold_multiplier": 1.5,
      "kalman_volatility_window": 20,
      "trend_alignment_required": true,
      "zero_threshold": 0,
      "positive_signal_value": 1,
      "negative_signal_value": -1,
      "neutral_signal_value": 0,
      "percentage_multiplier": 100,
      "unity_value": 1,
      "array_shift_periods": 1,
      "first_array_index": 0,
      "second_array_index": 1
    },
    "signal_combination": {
      "method": "weighted_average",
      "weights": {
        "kama": 0.6,
        "kalman": 0.4
      }
    },
    "signal_processing": {
      "high_vol_position_multiplier": 0.6,
      "high_vol_confidence_threshold": 0.5,
      "ranging_signal_multiplier": 0.7,
      "high_vol_signal_multiplier": 0.3,
      "confidence_divisor": 3,
      "signal_clip_min": -1,
      "signal_clip_max": 1
    },
    "duration_multipliers": {
      "category_multipliers": {
        "0": 0.3,
        "1": 0.6,
        "2": 0.9,
        "3": 1.0
      },
      "confidence_blend_factor": 0.5
    }
  }
}